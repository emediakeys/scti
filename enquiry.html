<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Form</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#4299E1",
              secondary: "#2D3748",
            },
            borderRadius: {
              none: "0px",
              sm: "4px",
              DEFAULT: "8px",
              md: "12px",
              lg: "16px",
              xl: "20px",
              "2xl": "24px",
              "3xl": "32px",
              full: "9999px",
              button: "8px",
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
          },
        },
      };
    </script>
    <style>
      :where([class^="ri-"])::before { content: "\f3c2"; }

      input:focus, textarea:focus {
          outline: none;
          border-color: #4299E1;
          box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
      }

      input:-webkit-autofill,
      input:-webkit-autofill:hover,
      input:-webkit-autofill:focus,
      textarea:-webkit-autofill,
      textarea:-webkit-autofill:hover,
      textarea:-webkit-autofill:focus {
          -webkit-box-shadow: 0 0 0px 1000px white inset;
          transition: background-color 5000s ease-in-out 0s;
      }

      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
      }

      input[type="number"] {
          -moz-appearance: textfield;
      }
    </style>
  </head>
  <body class="bg-gray-50 font-sans text-gray-800">
    <div class="min-h-screen flex items-center justify-center p-4">
      <div
        class="w-full max-w-xl bg-white rounded-lg shadow-lg overflow-hidden"
      >
        <div class="bg-gradient-to-r from-primary to-secondary p-6 text-white">
          <h1 class="text-2xl font-bold">Get in Touch</h1>
          <p class="mt-2 opacity-90">
            We'd love to hear from you. Fill out the form below to make enquiry.
          </p>
        </div>

        <form id="contactForm" class="p-6 space-y-6">
          <div class="space-y-1">
            <label for="name" class="block text-sm font-medium text-gray-700"
              >Full Name <span class="text-red-500">*</span></label
            >
            <div class="relative">
              <div
                class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"
              >
                <i class="ri-user-line text-gray-400"></i>
              </div>
              <input
                type="text"
                id="name"
                name="name"
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded focus:ring-primary"
                placeholder="Enter your name"
                required
              />
            </div>
            <p id="nameError" class="text-red-500 text-xs hidden">
              Please enter a valid name
            </p>
          </div>

          <div class="space-y-1">
            <label for="phone" class="block text-sm font-medium text-gray-700"
              >Phone Number <span class="text-red-500">*</span></label
            >
            <div class="relative">
              <div
                class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"
              >
                <i class="ri-phone-line text-gray-400"></i>
              </div>
              <input
                type="tel"
                id="phone"
                name="phone"
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded focus:ring-primary"
                placeholder="Enter your phone number"
                required
              />
            </div>
            <p id="phoneError" class="text-red-500 text-xs hidden">
              Please enter a valid phone number
            </p>
          </div>

          <div class="space-y-1">
            <label for="email" class="block text-sm font-medium text-gray-700"
              >Email Address
              <span class="text-red-500">*</span></label
            >
            <div class="relative">
              <div
                class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"
              >
                <i class="ri-mail-line text-gray-400"></i>
              </div>
              <input
                type="email"
                id="email"
                name="email"
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded focus:ring-primary"
                placeholder="Enter your email address" required
              />
            </div>
            <p id="emailError" class="text-red-500 text-xs hidden">
              Please enter a valid email address
            </p>
          </div>

          <div class="space-y-1">
            <label for="message" class="block text-sm font-medium text-gray-700"
              >Message <span class="text-red-500">*</span></label
            >
            <div class="relative">
              <div
                class="absolute top-3 left-3 flex items-center pointer-events-none"
              >
                <i class="ri-message-2-line text-gray-400"></i>
              </div>
              <textarea
                id="message"
                name="message"
                rows="5"
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded focus:ring-primary"
                placeholder="Type your message here (minimum 10 characters) i.e what would your like us to do for you!?"
                required
              ></textarea>
            </div>
            <p id="messageError" class="text-red-500 text-xs hidden">
              Please enter a message (minimum 10 characters)
            </p>
          </div>

          <div class="pt-2">
            <button
              type="submit"
              id="submitBtn"
              class="w-full bg-primary hover:bg-blue-600 text-white font-medium py-2.5 px-4 rounded-button transition duration-300 ease-in-out transform hover:scale-[1.02] flex items-center justify-center whitespace-nowrap"
            >
              <span>Submit Feedback and or Enquiry</span>
              <i class="ri-send-plane-line ml-2"></i>
            </button>
          </div>
        </form>

        <div id="successMessage" class="hidden p-6 text-center">
          <div
            class="w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 flex items-center justify-center"
          >
            <i class="ri-check-line ri-2x text-green-500"></i>
          </div>
          <h3 class="text-xl font-medium text-gray-900 mb-2">Thank You!</h3>
          <p class="text-gray-600 mb-6">
            Your message has been sent successfully. We'll get back to you soon.
          </p>
          <button
            id="sendAnother"
            class="bg-primary hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-button transition duration-300 ease-in-out whitespace-nowrap"
          >
            Send Another Message
          </button>
        </div>
      </div>
    </div>

    <script id="formValidation">
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("contactForm");
        const nameInput = document.getElementById("name");
        const phoneInput = document.getElementById("phone");
        const emailInput = document.getElementById("email");
        const messageInput = document.getElementById("message");
        const submitBtn = document.getElementById("submitBtn");
        const successMessage = document.getElementById("successMessage");
        const sendAnotherBtn = document.getElementById("sendAnother");

        // Error elements
        const nameError = document.getElementById("nameError");
        const phoneError = document.getElementById("phoneError");
        const emailError = document.getElementById("emailError");
        const messageError = document.getElementById("messageError");

        // Validation functions
        function validateName(name) {
          return /^[A-Za-z\s]{2,}$/.test(name);
        }

        function validatePhone(phone) {
          return /^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/.test(phone);
        }

        function validateEmail(email) {
          if (!email) return true; // Email is optional
          return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        function validateMessage(message) {
          return message.trim().length >= 10;
        }

        // Input event listeners for real-time validation
        nameInput.addEventListener("input", function () {
          if (validateName(nameInput.value)) {
            nameError.classList.add("hidden");
            nameInput.classList.remove("border-red-500");
          } else {
            nameError.classList.remove("hidden");
            nameInput.classList.add("border-red-500");
          }
        });

        phoneInput.addEventListener("input", function () {
          if (validatePhone(phoneInput.value)) {
            phoneError.classList.add("hidden");
            phoneInput.classList.remove("border-red-500");
          } else {
            phoneError.classList.remove("hidden");
            phoneInput.classList.add("border-red-500");
          }
        });

        emailInput.addEventListener("input", function () {
          if (validateEmail(emailInput.value)) {
            emailError.classList.add("hidden");
            emailInput.classList.remove("border-red-500");
          } else {
            emailError.classList.remove("hidden");
            emailInput.classList.add("border-red-500");
          }
        });

        messageInput.addEventListener("input", function () {
          if (validateMessage(messageInput.value)) {
            messageError.classList.add("hidden");
            messageInput.classList.remove("border-red-500");
          } else {
            messageError.classList.remove("hidden");
            messageInput.classList.add("border-red-500");
          }
        });

        // Form submission
        form.addEventListener("submit", async function (e) {
        e.preventDefault();

          let isValid = true;

        if (!validateName(nameInput.value)) {
          nameError.classList.remove("hidden");
          nameInput.classList.add("border-red-500");
          isValid = false;
        }

        if (!validatePhone(phoneInput.value)) {
          phoneError.classList.remove("hidden");
          phoneInput.classList.add("border-red-500");
          isValid = false;
        }

        if (!validateEmail(emailInput.value)) {
          emailError.classList.remove("hidden");
          emailInput.classList.add("border-red-500");
          isValid = false;
        }

        if (!validateMessage(messageInput.value)) {
          messageError.classList.remove("hidden");
          messageInput.classList.add("border-red-500");
          isValid = false;
        }

        if (isValid) {
          submitBtn.disabled = true;
          submitBtn.innerHTML =
            '<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Submitting...';

          // Prepare form data
          const formData = new FormData(form);

          // Add a sheet name to the form data (change "Enquiries" to your sheet/tab name)
          formData.append("sheetName", "Enquiries");

          // Your Google Apps Script Web App URL
          const scriptURL = "https://script.google.com/macros/s/AKfycbwFINU5aqcmJ5pnoedw7Q9PyegKKeCZEDhx1nPo2Mq4m3Zo8IPN1NRzZAZpcQMfQI75/exec";

          try {
            const response = await fetch(scriptURL, {
              method: "POST",
              body: formData,
            });

            if (response.ok) {
              form.classList.add("hidden");
              successMessage.classList.remove("hidden");
              form.reset();
            } else {
              alert("Submission failed. Please try again.");
            }
          } catch (error) {
            alert("Network error. Please try again.");
          } finally {
            submitBtn.disabled = false;
            submitBtn.innerHTML =
              '<span>Submit Feedback and or Enquiry</span><i class="ri-send-plane-line ml-2"></i>';
          }
        }
      });

        // Send another message button
        sendAnotherBtn.addEventListener("click", function () {
          successMessage.classList.add("hidden");
          form.classList.remove("hidden");
        });
      });
    
        </script>
  </body>
</html>
